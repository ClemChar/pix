{{title pageTitle}}

<div class="background-banner-wrapper">
  <div class="skill-review__banner">
    <AssessmentBanner @title={{model.assessment.title}} @displayHomeLink={{false}} />
  </div>
  <div class="rounded-panel rounded-panel--strong rounded-panel--over-background-banner skill-review__result-container">
    {{#if shouldShowPixEmploiBadge }}
      <Badge @badgeId="pixjob" class="skill-review-result__badge">
       <p class="skill-review-result__badge-information">Bravo ! Vous maîtrisez les compétences indispensables pour utiliser le numérique en milieu professionnel. Pour valoriser vos compétences, renseignez-vous auprès de votre conseiller.</p>
      </Badge>
    {{/if}}
    {{#if shouldShowCleaNumeriqueBadge}}
      <Badge @badgeId="cleanum" class="skill-review-result__badge">
        <p class="skill-review-result__badge-information">Bravo ! Vous avez atteint un niveau suffisant pour obtenir le Cléa numérique. Pour cela, inscrivez-vous à une session de certification Pix dans un centre agréé.</p>
      </Badge>
    {{/if}}

    <SkillReview::MasteryPercentage @masteryPercentage={{model.campaignParticipation.campaignParticipationResult.masteryPercentage}}></SkillReview::MasteryPercentage>

    <div class="skill-review-result__share-container">
      {{#if model.campaignParticipation.isShared}}
        <p class="skill-review-share__thanks">Merci, vos résultats ont bien été envoyés !</p>
        <LinkTo @route="index" class="skill-review-share__back-to-home link">Continuez votre expérience Pix</LinkTo>
      {{else}}
        <p class="skill-review-share__legal">
          Envoyez vos résultats à l'organisateur du parcours pour qu'il puisse vous accompagner.
        </p>

        {{#if displayErrorMessage}}
          <div class="skill-review-share__error" aria-live="polite">
            Vous ne pouvez pas encore envoyer vos résultats, nous avons encore quelques questions à vous poser.
          </div>
        {{/if}}

        {{#if displayLoadingButton}}
          <button type="button" disabled class="button button--extra-big skill-review-share__button">
            <span class="loader-in-button">&nbsp;</span>
          </button>
        {{else}}
          <button class="button button--extra-big skill-review-share__button" {{action 'shareCampaignParticipation'}}>
            J'envoie mes résultats
          </button>
        {{/if}}
      {{/if}}
    </div>
    {{#if displayImprovementButton}}
      <div class="skill-review-result__dash-line"></div>
      <div class="skill-review__begin-improvement">
        <div><h2 class="skill-review__subtitle">Envie d'améliorer vos résultats ?</h2>
          <p class="skill-review__explain-text">Vous pouvez retenter certaines questions</p>
        </div>
        <button class="button button--dark-grey button--big skill-review__improvement-button" {{action 'improvementCampaignParticipation'}}>
          Je retente
        </button>
      </div>
    {{/if}}

    <div class="skill-review-result__dash-line"></div>

    <SkillReview::ReportHeader @masteryPercentage={{model.campaignParticipation.campaignParticipationResult.masteryPercentage}}></SkillReview::ReportHeader>
    <SkillReview::Report @competenceResults={{model.campaignParticipation.campaignParticipationResult.competenceResults}}></SkillReview::Report>

  </div>
</div>
